<?xml version="1.0" encoding="UTF-8"?>
<report xmlns="http://www.jenitennison.com/xslt/xspec"
        xspec="file:/C:/Users/minigrrl/Dropbox/12_SourceControl/GitHub/Lantana/FHIRTransforms/transforms/cda2fhir-r4/xspec-unit-tests/cda2fhir-Bundle.xspec"
        stylesheet="file:/C:/Users/minigrrl/Dropbox/12_SourceControl/GitHub/Lantana/FHIRTransforms/transforms/cda2fhir-r4/cda2fhir-Bundle.xslt"
        date="2022-01-04T15:28:48.849972+10:00">
   <scenario id="scenario1"
             xspec="file:/C:/Users/minigrrl/Dropbox/12_SourceControl/GitHub/Lantana/FHIRTransforms/transforms/cda2fhir-r4/xspec-unit-tests/cda2fhir-Bundle.xspec">
      <label>Scenario for testing RR Bundle template with match '/' and mode 'convert'</label>
      <input-wrap xmlns="">
         <x:context xmlns:cda="urn:hl7-org:v3"
                    xmlns:fhir="http://hl7.org/fhir"
                    xmlns:lcg="http://www.lantanagroup.com"
                    xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"
                    xmlns:x="http://www.jenitennison.com/xslt/xspec"
                    href="file:/C:/Users/minigrrl/Dropbox/12_SourceControl/GitHub/Lantana/FHIRTransforms/samples/cda/RR-R1/RR-CDA-001_R1.xml"
                    mode="convert"/>
      </input-wrap>
      <result select="/element()">
         <content-wrap xmlns="">
            <Bundle xmlns="http://hl7.org/fhir">
               <id value="RR-bundle-d13e23"/>
               <meta>
                  <profile value="http://hl7.org/fhir/us/ecr/StructureDefinition/rr-document-bundle"/>
               </meta>
               <identifier>
                  <system value="urn:ietf:rfc:3986"/>
                  <value value="urn:uuid:18218889-5d7d-47d4-b329-31bb1c28d3b3"/>
               </identifier>
               <type value="document"/>
               <timestamp value="2017-11-14T12:15:00.000-07:00"/>
               <!--No template match for 2.16.840.1.113883.10.20.22.1.1: 2015-08-01-->
               <!--No template match for 2.16.840.1.113883.10.20.15.2.1.2: 2017-04-01-->
               <!--No template match for 2.16.840.1.113883.10.20.22.4.20: 2014-06-09-->
               <!--No template match for 2.16.840.1.113883.10.20.15.2.3.7: 2017-04-01-->
               <!--No template match for 2.16.840.1.113883.10.20.22.4.20: 2014-06-09-->
               <!--No template match for 2.16.840.1.113883.10.20.15.2.3.8: 2017-04-01-->
               <!--No template match for 2.16.840.1.113883.10.20.15.2.3.30: 2017-04-01-->
               <!--No template match for 2.16.840.1.113883.10.20.15.2.3.34: 2017-04-01-->
               <!--No template match for 2.16.840.1.113883.10.20.15.2.3.9: 2017-04-01-->
               <!--No template match for 2.16.840.1.113883.10.20.15.2.3.29: 2017-04-01-->
               <!--No template match for 2.16.840.1.113883.10.20.15.2.3.22: 2017-04-01-->
               <!--No template match for 2.16.840.1.113883.10.20.15.2.4.2: 2017-04-01-->
               <!--No template match for 2.16.840.1.113883.10.20.15.2.4.3: 2017-04-01-->
               <!--No template match for 2.16.840.1.113883.10.20.15.2.4.1: 2017-04-01-->
            </Bundle>
         </content-wrap>
      </result>
      <test id="scenario1-expect1" successful="true">
         <label>There should be a Bundle</label>
         <expect-test-wrap xmlns="">
            <x:expect xmlns:cda="urn:hl7-org:v3"
                      xmlns:fhir="http://hl7.org/fhir"
                      xmlns:lcg="http://www.lantanagroup.com"
                      xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"
                      xmlns:x="http://www.jenitennison.com/xslt/xspec"
                      test="count(fhir:Bundle)=1"/>
         </expect-test-wrap>
         <expect select="()"/>
      </test>
      <test id="scenario1-expect2" successful="true">
         <label>There should be an id with generated value</label>
         <expect-test-wrap xmlns="">
            <x:expect xmlns:cda="urn:hl7-org:v3"
                      xmlns:fhir="http://hl7.org/fhir"
                      xmlns:lcg="http://www.lantanagroup.com"
                      xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"
                      xmlns:x="http://www.jenitennison.com/xslt/xspec"
                      test="count(fhir:Bundle/fhir:id[@value !=''])=1"/>
         </expect-test-wrap>
         <expect select="()"/>
      </test>
      <test id="scenario1-expect3" successful="true">
         <label>There should be 1 meta with profile='http://hl7.org/fhir/us/ecr/StructureDefinition/rr-document-bundle'</label>
         <expect-test-wrap xmlns="">
            <x:expect xmlns:cda="urn:hl7-org:v3"
                      xmlns:fhir="http://hl7.org/fhir"
                      xmlns:lcg="http://www.lantanagroup.com"
                      xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"
                      xmlns:x="http://www.jenitennison.com/xslt/xspec"
                      test="count(fhir:Bundle/fhir:meta/fhir:profile[@value='http://hl7.org/fhir/us/ecr/StructureDefinition/rr-document-bundle'])=1"/>
         </expect-test-wrap>
         <expect select="()"/>
      </test>
      <test id="scenario1-expect4" successful="true">
         <label>There should be a type='document'</label>
         <expect-test-wrap xmlns="">
            <x:expect xmlns:cda="urn:hl7-org:v3"
                      xmlns:fhir="http://hl7.org/fhir"
                      xmlns:lcg="http://www.lantanagroup.com"
                      xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"
                      xmlns:x="http://www.jenitennison.com/xslt/xspec"
                      test="count(fhir:Bundle/fhir:type[@value ='document'])=1"/>
         </expect-test-wrap>
         <expect select="()"/>
      </test>
   </scenario>
   <scenario id="scenario2"
             xspec="file:/C:/Users/minigrrl/Dropbox/12_SourceControl/GitHub/Lantana/FHIRTransforms/transforms/cda2fhir-r4/xspec-unit-tests/cda2fhir-Bundle.xspec">
      <label>Scenario for testing eICR Bundle template with match '/' and mode 'convert'</label>
      <input-wrap xmlns="">
         <x:context xmlns:cda="urn:hl7-org:v3"
                    xmlns:fhir="http://hl7.org/fhir"
                    xmlns:lcg="http://www.lantanagroup.com"
                    xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"
                    xmlns:x="http://www.jenitennison.com/xslt/xspec"
                    href="file:/C:/Users/minigrrl/Dropbox/12_SourceControl/GitHub/Lantana/FHIRTransforms/samples/cda/eICR-R3/eICR-CDA-001_R3.xml"
                    mode="convert"/>
      </input-wrap>
      <result select="/element()">
         <content-wrap xmlns="">
            <Bundle xmlns="http://hl7.org/fhir">
               <id value="eICR-bundle-d30e28"/>
               <meta>
                  <profile value="http://hl7.org/fhir/us/ecr/StructureDefinition/eicr-document-bundle"/>
               </meta>
               <identifier>
                  <system value="urn:ietf:rfc:3986"/>
                  <value value="urn:uuid:2.16.840.1.113883.9.9.9.9.9"/>
               </identifier>
               <type value="document"/>
               <timestamp value="2020-11-07T09:44:21.000-05:00"/>
               <!--No template match for 2.16.840.1.113883.10.20.22.1.1-->
               <!--No template match for 2.16.840.1.113883.10.20.22.1.1: 2015-08-01-->
               <!--No template match for 2.16.840.1.113883.10.20.15.2: 2021-01-01-->
               <!--No template match for 2.16.840.1.113883.10.20.22.4.42: 2014-06-09-->
               <!--No template match for 2.16.840.1.113883.10.20.22.4.44-->
               <!--No template match for 2.16.840.1.113883.10.20.22.4.44: 2014-06-09-->
               <!--No template match for 2.16.840.1.113883.10.20.15.2.3.4: 2019-04-01-->
               <!--No template match for 2.16.840.1.113883.10.20.22.4.41: 2014-06-09-->
               <!--No template match for 2.16.840.1.113883.10.20.15.2.3.42: 2021-01-01-->
               <!--No template match for 2.16.840.1.113883.10.20.22.4.39: 2014-06-09-->
               <!--No template match for 2.16.840.1.113883.10.20.15.2.3.41: 2021-01-01-->
               <!--No template match for 2.16.840.1.113883.10.20.22.4.44: 2014-06-09-->
               <!--No template match for 2.16.840.1.113883.10.20.15.2.3.43: 2021-01-01-->
               <!--No template match for 2.16.840.1.113883.10.20.22.4.44: 2014-06-09-->
               <!--No template match for 2.16.840.1.113883.10.20.22.4.49-->
               <!--No template match for 2.16.840.1.113883.10.20.22.4.49: 2015-08-01-->
               <!--No template match for 2.16.840.1.113883.10.20.22.4.16-->
               <!--No template match for 2.16.840.1.113883.10.20.22.4.16: 2014-06-09-->
               <!--No template match for 2.16.840.1.113883.10.20.22.4.4-->
               <!--No template match for 2.16.840.1.113883.10.20.22.4.4: 2015-08-01-->
               <!--No template match for 2.16.840.1.113883.10.20.22.4.4-->
               <!--No template match for 2.16.840.1.113883.10.20.22.4.4: 2015-08-01-->
               <!--No template match for 2.16.840.1.113883.10.20.22.4.4-->
               <!--No template match for 2.16.840.1.113883.10.20.22.4.4: 2015-08-01-->
               <!--No template match for 2.16.840.1.113883.10.20.22.4.4-->
               <!--No template match for 2.16.840.1.113883.10.20.22.4.4: 2015-08-01-->
               <!--No template match for 2.16.840.1.113883.10.20.22.4.1-->
               <!--No template match for 2.16.840.1.113883.10.20.22.4.1: 2015-08-01-->
               <!--No template match for 2.16.840.1.113883.10.20.15.2.3.35: 2019-04-01-->
               <!--No template match for 2.16.840.1.113883.10.20.22.4.1-->
               <!--No template match for 2.16.840.1.113883.10.20.22.4.1: 2015-08-01-->
               <!--No template match for 2.16.840.1.113883.10.20.22.4.1-->
               <!--No template match for 2.16.840.1.113883.10.20.22.4.1: 2015-08-01-->
               <!--No template match for 2.16.840.1.113883.10.20.22.4.14: 2014-06-09-->
               <!--No template match for 2.16.840.1.113883.10.20.22.4.14-->
               <!--No template match for 2.16.840.1.113883.10.20.22.4.13: 2014-06-09-->
               <!--No template match for 2.16.840.1.113883.10.20.22.4.13-->
               <!--No template match for 2.16.840.1.113883.10.20.22.4.14: 2014-06-09-->
               <!--No template match for 2.16.840.1.113883.10.20.15.2.3.44: 2021-01-01-->
               <!--No template match for 2.16.840.1.113883.10.20.22.4.12: 2014-06-09-->
               <!--No template match for 2.16.840.1.113883.10.20.15.2.3.45: 2021-01-01-->
               <!--No template match for 2.16.840.1.113883.10.20.22.4.13: 2014-06-09-->
               <!--No template match for 2.16.840.1.113883.10.20.15.2.3.46: 2021-01-01-->
               <!--No template match for 2.16.840.1.113883.10.20.22.4.52: 2015-08-01-->
               <!--No template match for 2.16.840.1.113883.10.20.22.4.52: 2015-08-01-->
               <!--No template match for 2.16.840.1.113883.10.20.15.2.3.55: 2021-01-01-->
               <!--No template match for 2.16.840.1.113883.10.20.22.4.200: 2016-06-01-->
               <!--No template match for 2.16.840.1.113883.10.20.34.3.45: 2019-04-01-->
               <!--No template match for 2.16.840.1.113883.10.20.22.4.109-->
               <!--No template match for 2.16.840.1.113883.10.20.15.2.3.52: 2021-01-01-->
               <!--No template match for 2.16.840.1.113883.10.20.15.2.3.52: 2021-01-01-->
               <!--No template match for 2.16.840.1.113883.10.20.15.2.3.52: 2021-01-01-->
               <!--No template match for 2.16.840.1.113883.10.20.15.2.3.1: 2021-01-01-->
               <!--No template match for 2.16.840.1.113883.10.20.15.2.3.1: 2021-01-01-->
               <!--No template match for 2.16.840.1.113883.10.20.15.2.3.1: 2021-01-01-->
               <!--No template match for 2.16.840.1.113883.10.20.15.2.3.1: 2021-01-01-->
               <!--No template match for 2.16.840.1.113883.10.20.15.2.3.1: 2021-01-01-->
               <!--No template match for 2.16.840.1.113883.10.20.15.2.3.1: 2021-01-01-->
               <!--No template match for 2.16.840.1.113883.10.20.15.2.3.53: 2021-01-01-->
               <!--No template match for 2.16.840.1.113883.10.20.15.2.3.54: 2021-01-01-->
               <!--No template match for 2.16.840.1.113883.10.20.15.2.3.47: 2021-01-01-->
               <!--No template match for 2.16.840.1.113883.10.20.15.2.3.48: 2021-01-01-->
               <!--No template match for 2.16.840.1.113883.10.20.22.4.221: 2020-09-01-->
               <!--No template match for 2.16.840.1.113883.10.20.22.4.217: 2020-09-01-->
               <!--No template match for 2.16.840.1.113883.10.20.15.3.8-->
               <!--No template match for 2.16.840.1.113883.10.20.22.4.293: 2020-04-01-->
               <!--No template match for 2.16.840.1.113883.10.20.30.3.34: 2014-06-09-->
               <!--No template match for 2.16.840.1.113883.10.20.22.4.285: 2020-04-01-->
               <!--No template match for 2.16.840.1.113883.10.20.22.4.26-->
               <!--No template match for 2.16.840.1.113883.10.20.22.4.26: 2015-08-01-->
               <!--No template match for 2.16.840.1.113883.10.20.15.2.3.40: 2021-01-01-->
               <!--No template match for 2.16.840.1.113883.10.20.15.2.3.34: 2017-04-01-->
               <!--No template match for 2.16.840.1.113883.10.20.15.2.4.2: 2017-04-01-->
               <!--No template match for 2.16.840.1.113883.10.20.15.2.4.3: 2017-04-01-->
               <!--No template match for 2.16.840.1.113883.10.20.15.2.4.1: 2017-04-01-->
            </Bundle>
         </content-wrap>
      </result>
      <test id="scenario2-expect1" successful="true">
         <label>There should be a Bundle</label>
         <expect-test-wrap xmlns="">
            <x:expect xmlns:cda="urn:hl7-org:v3"
                      xmlns:fhir="http://hl7.org/fhir"
                      xmlns:lcg="http://www.lantanagroup.com"
                      xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"
                      xmlns:x="http://www.jenitennison.com/xslt/xspec"
                      test="count(fhir:Bundle)=1"/>
         </expect-test-wrap>
         <expect select="()"/>
      </test>
      <test id="scenario2-expect2" successful="true">
         <label>There should be an id with generated value</label>
         <expect-test-wrap xmlns="">
            <x:expect xmlns:cda="urn:hl7-org:v3"
                      xmlns:fhir="http://hl7.org/fhir"
                      xmlns:lcg="http://www.lantanagroup.com"
                      xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"
                      xmlns:x="http://www.jenitennison.com/xslt/xspec"
                      test="count(fhir:Bundle/fhir:id[@value !=''])=1"/>
         </expect-test-wrap>
         <expect select="()"/>
      </test>
      <test id="scenario2-expect3" successful="true">
         <label>There should be 1 meta with profile='http://hl7.org/fhir/us/ecr/StructureDefinition/eicr-document-bundle'</label>
         <expect-test-wrap xmlns="">
            <x:expect xmlns:cda="urn:hl7-org:v3"
                      xmlns:fhir="http://hl7.org/fhir"
                      xmlns:lcg="http://www.lantanagroup.com"
                      xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"
                      xmlns:x="http://www.jenitennison.com/xslt/xspec"
                      test="count(fhir:Bundle/fhir:meta/fhir:profile[@value='http://hl7.org/fhir/us/ecr/StructureDefinition/eicr-document-bundle'])=1"/>
         </expect-test-wrap>
         <expect select="()"/>
      </test>
      <test id="scenario2-expect4" successful="true">
         <label>There should be a type='document'</label>
         <expect-test-wrap xmlns="">
            <x:expect xmlns:cda="urn:hl7-org:v3"
                      xmlns:fhir="http://hl7.org/fhir"
                      xmlns:lcg="http://www.lantanagroup.com"
                      xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"
                      xmlns:x="http://www.jenitennison.com/xslt/xspec"
                      test="count(fhir:Bundle/fhir:type[@value ='document'])=1"/>
         </expect-test-wrap>
         <expect select="()"/>
      </test>
   </scenario>
</report>
